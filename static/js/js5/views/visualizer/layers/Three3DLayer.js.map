{"version":3,"sources":["../../../../js6/views/visualizer/layers/Three3DLayer.js"],"names":[],"mappings":";;;;;;;;;;IAAM,YAAY,cAAS,KAAK;AAgBjB,aAhBT,YAAY,CAgBF,SAAS,EAAE,MAAM;8BAhB3B,YAAY;;AAiBV,mCAjBF,YAAY,6CAiBJ,SAAS,EAAE,MAAM,EAAE;KAC5B;;cAlBC,YAAY,EAAS,KAAK;;yBAA1B,YAAY;AACP,kCAA0B;mBAAA,sCAAE;AAC/B,uBAAO,YAAY,CAAC;aACvB;;;;AAEM,iCAAyB;mBAAA,qCAAE;;;AAG9B,oBAAI,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;AACvB,mBAAG,CAAC,OAAO,CAAC,CACJ,gBAAgB,EAChB,kBAAkB,CACrB,CAAC,CAAC;AACP,uBAAO,GAAG,CAAC;aACd;;;;;AAMD,cAAM;mBAAA,gBAAC,aAAa,EAAC;AACjB,oBAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;AAChC,2CAtBF,YAAY,wCAsBG,aAAa,EAAE;AAC5B,oBAAI,CAAC,OAAO,GAAG,IAAI,KAAK,CAAC,iBAAiB,CAAE,EAAE,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAE,CAAC;AACtF,oBAAI,CAAC,SAAS,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC1D,oBAAI,CAAC,SAAS,CAAC,OAAO,CAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAE,CAAC;;AAElD,6BAAa,CAAC,CAAC,CAAC,CAAC,WAAW,CAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAE,CAAC;;AAE1D,oBAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;AAC5B,oBAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;AAC5B,oBAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;AAE5B,oBAAI,CAAC,WAAW,EAAE,CAAC;aACtB;;;;AAED,mBAAW;mBAAA,uBAAE;;AAET,oBAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAA,aAAa,EAAI;AAC3C,iCAAa,CAAC,WAAW,EAAE,CAAC;iBAC/B,CAAC,CAAC;AACH,oBAAI,CAAC,SAAS,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAE,CAAC;aACtD;;;;AAED,yBAAiB;mBAAA,6BAAE;;;AACf,oBAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAA,SAAS,EAAI;AACtD,2BAAO,IAAI,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAC9B,SAAS,EACT,MAAK,MAAM,CACd,CAAC;iBACT,CAAC,CAAC;aACN;;;;;;WAnDC,YAAY;GAAS,KAAK","file":"static/js/js6/views/visualizer/layers/Three3DLayer.js","sourcesContent":["class Three3DLayer extends Layer{\n    static getLayerSpecificActorClass(){\n        return \"ThreeActor\";\n    }\n\n    static getAvailableActorsClasses(){\n        //Even if right now it's not, one day this will be async\n        //It will ask the server to check what classes are in the actors folder\n        var dfd = $.Deferred();\n        dfd.resolve([\n                \"ThreeCubeActor\",\n                \"ThreeSphereActor\"\n            ]);\n        return dfd;\n    }\n\n    constructor(layerData, config){\n        super(layerData, config);\n    }\n\n    render($stageElement){\n        this._scene = new THREE.Scene();\n        super.render($stageElement);\n        this._camera = new THREE.PerspectiveCamera( 75, this.width / this.height, 0.1, 1000 );\n        this._renderer = new THREE.WebGLRenderer({ alpha: true });\n        this._renderer.setSize( this.width, this.height );\n        //$(this._renderer.domElement).addClass(\"layer-canvas\");\n        $stageElement[0].appendChild( this._renderer.domElement );\n\n        this._camera.position.z = 5;\n        this._camera.position.x = 1;\n        this._camera.position.y = 1;\n\n        this.renderFrame();\n    }\n\n    renderFrame(){\n        //requestAnimationFrame( this.renderFrame );\n        this._actorsInstances.forEach(actorInstance => {\n            actorInstance.renderFrame();\n        });\n        this._renderer.render( this._scene, this._camera );\n    }\n\n    _initializeActors(){\n        this._actorsInstances = this._actorsData.map(actorData => {\n            return new window[actorData.className](\n                    actorData,\n                    this._scene\n                );\n        });\n    }\n\n}"]}