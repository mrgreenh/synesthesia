{"version":3,"sources":["../../js6/views/editorForm.js"],"names":[],"mappings":"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","file":"static/js/js6/views/editorForm.js","sourcesContent":["var EditorForm = React.createClass({\n    mixins: [React.addons.LinkedStateMixin],\n    getInitialState(){\n        return this.props.trackData;\n    },\n\n    render: function(){\n        return (\n            <div id=\"editor-form-container\" className=\"container\">\n                <div className=\"editorSection row\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"track-title\">Title</label>\n                        <input id=\"track-title\" className=\"form-control\" valueLink={this.linkState(\"title\")} />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"track-description\">Description</label>\n                        <input id=\"track-description\" className=\"form-control\" valueLink={this.linkState(\"description\")} />\n                    </div>\n                </div>\n                <div className=\"editorSection row\">\n                    <LayersList layersData={this.state.layersData} />\n                    <ScenesList scenesData={this.state.scenesData} />\n                </div>\n            </div>\n    );\n    }\n});\n\nvar ScenesList = React.createClass({\n    getInitialState(){\n        return {scenesData: this.props.scenesData};\n    },\n\n    handleNewSceneClick(){\n        alert(\"Cool magic stuff will start happening here.\");\n    },\n\n    render: function(){\n        var scenes = this.state.scenesData.map(function(scene){\n            //return <LayerEditor sceneData={scene} />;\n            return <li>{scene.name}</li>\n        });\n        return (<div className=\"scenesListContainer\">\n            <h3>Scenes</h3>\n            <p className=\"bg-primary\">\n                Here scenes can be added and configured (bg color, stage and unstage duration etc...).\n                Scenes added here will also add a new tab in the layers section. Each tab allows to overwrite each parameter by checking a checkbox next to it.\n            </p>\n            <button id=\"new-scene-button\" onClick={this.handleNewSceneClick}>New Scene</button>\n            <ul>\n                    {scenes}\n            </ul>\n        </div>);\n    }\n});\n\nvar LayersList = React.createClass({\n    getInitialState(){\n        return {layersData: this.props.layersData};\n    },\n\n    handleNewLayerClick(){\n        alert(\"Cool magic stuff will start happening here.\");\n    },\n\n    render: function(){\n        var layers = this.state.layersData.map(function(layer){\n           return <LayerEditor layerData={layer} />;\n        });\n        return (<div className=\"layersListContainer\">\n                <h3>Layers</h3>\n                <button id=\"new-layer-button\" onClick={this.handleNewLayerClick}>New Layer</button>\n                <ul>\n                    {layers}\n                </ul>\n            </div>);\n    }\n});\n\nvar LayerEditor = React.createClass({\n    mixins: [React.addons.LinkedStateMixin],\n\n    getInitialState(){\n        return this.props.layerData;\n    },\n\n    render: function(){\n        return (<Collapsable itemName={this.state.name}>\n                <div className=\"form-group\">\n                    <p className=\"bg-warning\">These options are defined by loading the js classes of each layer</p>\n                    <!-- TODO make the above statement true -->\n                    <div className=\"form-group\">\n                        <label htmlFor=\"layer-name\">Name</label>\n                        <input id=\"layer-name\" className=\"form-control\" valueLink={this.linkState(\"name\")} />\n                    </div>\n\n                    <label htmlFor=\"layer-type\">Layer type:</label>\n                    <BetterSelect valueLink={this.linkState(\"type\")}>\n                        <option value=\"Canvas2D\">Canvas2D</option>\n                        <option value=\"Processing2D\">Processing2D</option>\n                        <option value=\"Three3D\">Three3D</option>\n                    </BetterSelect>\n                    <ActorsList actorsData={this.state.actors} layerType={this.state.type} />\n                </div>\n            </Collapsable>);\n    }\n});\n\nvar ActorsList = React.createClass({\n    getInitialState: function(){\n        return {actorsData: this.props.actorsData}\n    },\n\n    handleNewActorClick: function(event){\n        alert(\"Some more magic happens here!\");\n    },\n\n    render: function(){\n        var actors = this.state.actorsData.map(actor => {\n           return (\n               <ActorEditor actorData={actor} layerType={this.props.layerType} />\n           );\n        });\n        return (\n            <div className=\"actors-list\">\n                <button id=\"new-actor-button\" onClick={this.handleNewActorClick}>New Actor</button>\n                <ul>\n                    {actors}\n                </ul>\n            </div>\n        );\n    }\n});\n\nvar Collapsable = React.createClass({\n    getInitialState(){\n        return {collapsed: true,\n                backgroundColor: this._getBackgroundColor()};\n    },\n\n    _getBackgroundColor: function(){\n      var rgb = [];\n      for(var i=0; i<3; i++){\n          rgb.push(parseInt(Math.min(255, Math.random()*255)));\n      }\n      return rgb;\n    },\n\n    handleCollapseItem: function(e){\n        this.setState({collapsed: !this.state.collapsed});\n    },\n\n    render: function(){\n        var additional_classes = this.state.collapsed ? \" collapsed\" : \"\";\n        var classes = \"collapsable-content\"+additional_classes;\n        var backgroundColor = \"rgba(\" + this.state.backgroundColor.join(\",\") + \",.1)\";\n        var inlineStyles = {backgroundColor: backgroundColor};\n        return (<li className=\"collapsable\" style={inlineStyles}>\n            <strong onClick={this.handleCollapseItem} className=\"bg-primary collapsing-switch\">{this.props.itemName}</strong>\n            <div className={classes}>\n                {this.props.children}\n            </div>\n        </li>);\n    }\n\n});"]}